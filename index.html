<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Bjorn Beans – Tiny Galaxy Shooter</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    html,body{margin:0;height:100%;background:#0e1020;color:#fff;font-family:system-ui,Arial}
    #wrap{display:grid;place-items:center;height:100%}
    canvas{background:#0c1330;border:2px solid #3b82f6;border-radius:16px;box-shadow:0 12px 30px rgba(0,0,0,.4)}
    .hud{position:fixed;top:10px;left:50%;transform:translateX(-50%);display:flex;gap:18px;font-weight:700}
    .btn{position:fixed;bottom:14px;left:50%;transform:translateX(-50%);background:#3b82f6;border:none;color:#fff;
         padding:10px 16px;border-radius:999px;cursor:pointer}
    .tip{position:fixed;bottom:14px;right:14px;opacity:.75;font-size:12px}
  </style>
</head>
<body>
  <div class="hud"><div>Score: <span id="Beans of today">0</span></div><div>Lives: <span id="Nice Try!">3</span></div></div>
  <div id="wrap"><canvas id="game" width="480" height="720"></canvas></div>
  <button id="restart" class="btn" hidden>Tap/Click to Restart</button>
  <div class="tip">Move: ← → or A/D • Shoot: Space / Tap</div>

<script>
/* ================== CONFIG ================== */
/* 1) Ship image (upload ship.png to repo root or change the path below) */
const PLAYER_IMG_SRC = "./ship.png";
/* Set the display height we want (aspect ratio preserved automatically) */
const SHIP_TARGET_HEIGHT = 110; // make the can bigger by bumping this number

/* 2) Bean bullets (bigger) */
const BEAN_IMG_SRC = ""; // set to "./bean.png" if you upload your own PNG
const BEAN_W = 22, BEAN_H = 34; // bigger beans

/* 3) Alien targets (built-in SVG; you can swap to ./alien.png if you prefer) */
const ALIEN_IMG_SRC = ""; // set to "./alien.png" if you upload one
const ALIEN_SVG = `
<svg xmlns='http://www.w3.org/2000/svg' width='24' height='20' viewBox='0 0 24 20'>
  <rect width='24' height='20' fill='none'/>
  <rect x='2' y='4' width='4' height='2' fill='#7fffd4'/>
  <rect x='18' y='4' width='4' height='2' fill='#7fffd4'/>
  <rect x='4' y='6' width='16' height='6' fill='#7fffd4'/>
  <rect x='6' y='12' width='4' height='2' fill='#7fffd4'/>
  <rect x='14' y='12' width='4' height='2' fill='#7fffd4'/>
  <rect x='8' y='8' width='2' height='2' fill='#001122'/>
  <rect x='14' y='8' width='2' height='2' fill='#001122'/>
</svg>`;
const ENEMY_SCALE = 1.4;   // scale aliens up (bigger targets)
const ENEMY_COLS  = 7;
const ENEMY_ROWS  = 3;

/* ============= setup & utilities ============ */
const c = document.getElementById('game'), g = c.getContext('2d');
const scoreEl = document.getElementById('score'), livesEl = document.getElementById('lives');
const restartBtn = document.getElementById('restart');

const clamp = (v,a,b)=> Math.max(a, Math.min(b,v));
let keys = {};
addEventListener('keydown', e=> keys[e.key.toLowerCase()] = true);
addEventListener('keyup',   e=> keys[e.key.toLowerCase()] = false);
let pointerDown = false;
addEventListener('pointerdown', ()=> { pointerDown = true; });
addEventListener('pointerup',   ()=> { pointerDown = false; });

/* ================ assets ==================== */
const shipImg = new Image(); shipImg.src = PLAYER_IMG_SRC;
let shipReady = false, shipW = 64, shipH = 64;
shipImg.onload = () => {
  shipReady = true;
  // preserve aspect ratio using the image's intrinsic size
  const scale = SHIP_TARGET_HEIGHT / (shipImg.naturalHeight || SHIP_TARGET_HEIGHT);
  shipW = Math.round((shipImg.naturalWidth  || SHIP_TARGET_HEIGHT) * scale);
  shipH = Math.round((shipImg.naturalHeight || SHIP_TARGET_HEIGHT) * scale);
};

const beanImg = new Image();
const beanURL = BEAN_IMG_SRC || ('data:image/svg+xml;utf8,' + encodeURIComponent(`
<svg xmlns='http://www.w3.org/2000/svg' width='32' height='48' viewBox='0 0 32 48'>
  <defs>
    <linearGradient id='g' x1='0' y1='0' x2='0' y2='1'>
      <stop offset='0' stop-color='#7b3f00'/>
      <stop offset='1' stop-color='#b5651d'/>
    </linearGradient>
  </defs>
  <ellipse cx='16' cy='24' rx='10' ry='16' fill='url(#g)'/>
  <ellipse cx='12' cy='16' rx='4' ry='6' fill='rgba(255,255,255,0.25)'/>
</svg>`));
beanImg.src = beanURL;
let beanReady = false; beanImg.onload = ()=> beanReady = true;

const alienImg = new Image();
const alienURL = ALIEN_IMG_SRC || ('data:image/svg+xml;utf8,' + encodeURIComponent(ALIEN_SVG));
alienImg.src = alienURL;
let alienReady = false, alienW = 32, alienH = 26;
alienImg.onload = () => {
  alienReady = true;
  alienW = Math.round((alienImg.naturalWidth  || 24) * ENEMY_SCALE);
  alienH = Math.round((alienImg.naturalHeight || 20) * ENEMY_SCALE);
  // if a wave already exists, resize current enemies
  for (const e of S.enemies){ e.w = alienW; e.h = alienH; }
};

/* ================ game state ================ */
const S = {
  running:false, score:0, lives:3, tick:0,
  player: { x:c.width/2, y:680, w:shipW, h:shipH, speed:4.2, cooldown:0 },
  bullets: [],
  enemies: [],
};

function reset(){
  S.running = true; S.score = 0; S.lives = 3; S.tick = 0;
  S.player.x = c.width/2; S.player.y = 680; S.player.cooldown = 0;
  S.pl
